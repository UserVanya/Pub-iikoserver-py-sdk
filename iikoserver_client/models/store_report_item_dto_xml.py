# coding: utf-8

"""
    iikoServer API

    API Server позволяет сделать интеграции, которые предназначены для работы с номенклатурой, отчетами, документами, данными сотрудников и приказами.   ### Ограничения и рекомендации - Запросы должны выполняться последовательно друг за другом - Запрашивайте данные за период не длиннее одного месяца, в идеале — за один день или неделю - Для OLAPv2-отчетов рекомендуется устанавливать build-summary=false - При построении OLAPv2-отчета рекомендуется использовать не более 7 полей - Перед выполнением запросов проверяйте их на демо сервере

    The version of the OpenAPI document: 1.0.0
    Generated by OpenAPI Generator (https://openapi-generator.tech)

    Do not edit the class manually.
"""  # noqa: E501


from __future__ import annotations
import pprint
import re  # noqa: F401
import json

from pydantic import BaseModel, ConfigDict, Field, StrictBool, StrictFloat, StrictInt, StrictStr
from typing import Any, ClassVar, Dict, List, Optional, Union
from iikoserver_client.models.document_type_enum import DocumentTypeEnum
from iikoserver_client.models.transaction_type_enum import TransactionTypeEnum
from typing import Optional, Set, Union
from typing_extensions import Self

# XML support imports
from lxml import etree
from lxml.etree import Element, SubElement

class StoreReportItemDtoXml(BaseModel):
    """
    StoreReportItemDtoXml
    """ # noqa: E501
    nds_percent: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Процент НДС", alias="ndsPercent")
    product_category: Optional[StrictStr] = Field(default=None, description="Категория продукта", alias="productCategory")
    product_group: Optional[StrictStr] = Field(default=None, description="Группа продукта", alias="productGroup")
    product: Optional[StrictStr] = Field(default=None, description="Продукт")
    secondary_account: Optional[StrictStr] = Field(default=None, description="Вторичный счет", alias="secondaryAccount")
    primary_store: Optional[StrictStr] = Field(default=None, description="Основной склад", alias="primaryStore")
    document_num: Optional[StrictStr] = Field(default=None, description="Номер документа", alias="documentNum")
    expense_account: Optional[StrictStr] = Field(default=None, description="Счет расходов", alias="expenseAccount")
    revenue_account: Optional[StrictStr] = Field(default=None, description="Счет доходов", alias="revenueAccount")
    document_comment: Optional[StrictStr] = Field(default=None, description="Комментарий документа", alias="documentComment")
    document_id: Optional[StrictStr] = Field(default=None, description="ID документа", alias="documentId")
    document_type: Optional[DocumentTypeEnum] = Field(default=None, alias="documentType")
    incoming: Optional[StrictBool] = Field(default=None, description="Входящий документ")
    type: Optional[TransactionTypeEnum] = None
    var_date: Optional[StrictStr] = Field(default=None, description="Дата", alias="date")
    operational_date: Optional[StrictStr] = Field(default=None, description="Операционная дата", alias="operationalDate")
    cost: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Стоимость")
    second_estimated_purchase_price: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Вторая расчетная цена покупки", alias="secondEstimatedPurchasePrice")
    first_estimated_purchase_price: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Первая расчетная цена покупки", alias="firstEstimatedPurchasePrice")
    document_sum: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Сумма документа", alias="documentSum")
    secondary_amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Вторичное количество", alias="secondaryAmount")
    amount: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Количество")
    sum_without_nds: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Сумма без НДС", alias="sumWithoutNds")
    sum_nds: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Сумма НДС", alias="sumNds")
    sum: Optional[Union[StrictFloat, StrictInt]] = Field(default=None, description="Общая сумма")
    __properties: ClassVar[List[str]] = ["ndsPercent", "productCategory", "productGroup", "product", "secondaryAccount", "primaryStore", "documentNum", "expenseAccount", "revenueAccount", "documentComment", "documentId", "documentType", "incoming", "type", "date", "operationalDate", "cost", "secondEstimatedPurchasePrice", "firstEstimatedPurchasePrice", "documentSum", "secondaryAmount", "amount", "sumWithoutNds", "sumNds", "sum"]
    
    # XML metadata for the class
    __xml_config: ClassVar[Dict[str, Any]] = {
        "root_name": "storeReportItemDto",
        
        
        "field_configs": {
            "nds_percent": {
                "xml_name": "ndsPercent",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "product_category": {
                "xml_name": "productCategory",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "product_group": {
                "xml_name": "productGroup",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "product": {
                "xml_name": "product",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "secondary_account": {
                "xml_name": "secondaryAccount",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "primary_store": {
                "xml_name": "primaryStore",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "document_num": {
                "xml_name": "documentNum",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "expense_account": {
                "xml_name": "expenseAccount",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "revenue_account": {
                "xml_name": "revenueAccount",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "document_comment": {
                "xml_name": "documentComment",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "document_id": {
                "xml_name": "documentId",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "document_type": {
                "xml_name": "documentType",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "incoming": {
                "xml_name": "incoming",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "type": {
                "xml_name": "type",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "var_date": {
                "xml_name": "date",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "operational_date": {
                "xml_name": "operationalDate",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "cost": {
                "xml_name": "cost",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "second_estimated_purchase_price": {
                "xml_name": "secondEstimatedPurchasePrice",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "first_estimated_purchase_price": {
                "xml_name": "firstEstimatedPurchasePrice",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "document_sum": {
                "xml_name": "documentSum",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "secondary_amount": {
                "xml_name": "secondaryAmount",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "amount": {
                "xml_name": "amount",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "sum_without_nds": {
                "xml_name": "sumWithoutNds",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "sum_nds": {
                "xml_name": "sumNds",
                
                
                "is_attribute": False,
                "is_wrapped": False
            },
            "sum": {
                "xml_name": "sum",
                
                
                "is_attribute": False,
                "is_wrapped": False
            }
        }
    }


    model_config = ConfigDict(
        populate_by_name=True,
        validate_assignment=True,
        protected_namespaces=(),
    )


    def to_str(self) -> str:
        """Returns the string representation of the model using alias"""
        return pprint.pformat(self.model_dump(by_alias=True))

    def to_json(self) -> str:
        """Returns the JSON representation of the model using alias"""
        # TODO: pydantic v2: use .model_dump_json(by_alias=True, exclude_unset=True) instead
        return json.dumps(self.to_dict())

    @classmethod
    def from_json(cls, json_str: str) -> Optional[Self]:
        """Create an instance of StoreReportItemDtoXml from a JSON string"""
        return cls.from_dict(json.loads(json_str))

    def to_dict(self) -> Dict[str, Any]:
        """Return the dictionary representation of the model using alias.

        This has the following differences from calling pydantic's
        `self.model_dump(by_alias=True)`:

        * `None` is only added to the output dict for nullable fields that
          were set at model initialization. Other fields with value `None`
          are ignored.
        """
        excluded_fields: Set[str] = set([
        ])

        _dict = self.model_dump(
            by_alias=True,
            exclude=excluded_fields,
            exclude_none=True,
        )
        # set to None if nds_percent (nullable) is None
        # and model_fields_set contains the field
        if self.nds_percent is None and "nds_percent" in self.model_fields_set:
            _dict['ndsPercent'] = None

        # set to None if product_category (nullable) is None
        # and model_fields_set contains the field
        if self.product_category is None and "product_category" in self.model_fields_set:
            _dict['productCategory'] = None

        # set to None if product_group (nullable) is None
        # and model_fields_set contains the field
        if self.product_group is None and "product_group" in self.model_fields_set:
            _dict['productGroup'] = None

        # set to None if product (nullable) is None
        # and model_fields_set contains the field
        if self.product is None and "product" in self.model_fields_set:
            _dict['product'] = None

        # set to None if secondary_account (nullable) is None
        # and model_fields_set contains the field
        if self.secondary_account is None and "secondary_account" in self.model_fields_set:
            _dict['secondaryAccount'] = None

        # set to None if primary_store (nullable) is None
        # and model_fields_set contains the field
        if self.primary_store is None and "primary_store" in self.model_fields_set:
            _dict['primaryStore'] = None

        # set to None if document_num (nullable) is None
        # and model_fields_set contains the field
        if self.document_num is None and "document_num" in self.model_fields_set:
            _dict['documentNum'] = None

        # set to None if expense_account (nullable) is None
        # and model_fields_set contains the field
        if self.expense_account is None and "expense_account" in self.model_fields_set:
            _dict['expenseAccount'] = None

        # set to None if revenue_account (nullable) is None
        # and model_fields_set contains the field
        if self.revenue_account is None and "revenue_account" in self.model_fields_set:
            _dict['revenueAccount'] = None

        # set to None if document_comment (nullable) is None
        # and model_fields_set contains the field
        if self.document_comment is None and "document_comment" in self.model_fields_set:
            _dict['documentComment'] = None

        # set to None if document_id (nullable) is None
        # and model_fields_set contains the field
        if self.document_id is None and "document_id" in self.model_fields_set:
            _dict['documentId'] = None

        # set to None if var_date (nullable) is None
        # and model_fields_set contains the field
        if self.var_date is None and "var_date" in self.model_fields_set:
            _dict['date'] = None

        # set to None if operational_date (nullable) is None
        # and model_fields_set contains the field
        if self.operational_date is None and "operational_date" in self.model_fields_set:
            _dict['operationalDate'] = None

        # set to None if cost (nullable) is None
        # and model_fields_set contains the field
        if self.cost is None and "cost" in self.model_fields_set:
            _dict['cost'] = None

        # set to None if second_estimated_purchase_price (nullable) is None
        # and model_fields_set contains the field
        if self.second_estimated_purchase_price is None and "second_estimated_purchase_price" in self.model_fields_set:
            _dict['secondEstimatedPurchasePrice'] = None

        # set to None if first_estimated_purchase_price (nullable) is None
        # and model_fields_set contains the field
        if self.first_estimated_purchase_price is None and "first_estimated_purchase_price" in self.model_fields_set:
            _dict['firstEstimatedPurchasePrice'] = None

        # set to None if document_sum (nullable) is None
        # and model_fields_set contains the field
        if self.document_sum is None and "document_sum" in self.model_fields_set:
            _dict['documentSum'] = None

        # set to None if secondary_amount (nullable) is None
        # and model_fields_set contains the field
        if self.secondary_amount is None and "secondary_amount" in self.model_fields_set:
            _dict['secondaryAmount'] = None

        # set to None if amount (nullable) is None
        # and model_fields_set contains the field
        if self.amount is None and "amount" in self.model_fields_set:
            _dict['amount'] = None

        # set to None if sum_without_nds (nullable) is None
        # and model_fields_set contains the field
        if self.sum_without_nds is None and "sum_without_nds" in self.model_fields_set:
            _dict['sumWithoutNds'] = None

        # set to None if sum_nds (nullable) is None
        # and model_fields_set contains the field
        if self.sum_nds is None and "sum_nds" in self.model_fields_set:
            _dict['sumNds'] = None

        # set to None if sum (nullable) is None
        # and model_fields_set contains the field
        if self.sum is None and "sum" in self.model_fields_set:
            _dict['sum'] = None

        return _dict

    @classmethod
    def from_dict(cls, obj: Optional[Dict[str, Any]]) -> Optional[Self]:
        """Create an instance of StoreReportItemDtoXml from a dict"""
        if obj is None:
            return None

        if not isinstance(obj, dict):
            return cls.model_validate(obj)

        _obj = cls.model_validate({
            "ndsPercent": obj.get("ndsPercent"),
            "productCategory": obj.get("productCategory"),
            "productGroup": obj.get("productGroup"),
            "product": obj.get("product"),
            "secondaryAccount": obj.get("secondaryAccount"),
            "primaryStore": obj.get("primaryStore"),
            "documentNum": obj.get("documentNum"),
            "expenseAccount": obj.get("expenseAccount"),
            "revenueAccount": obj.get("revenueAccount"),
            "documentComment": obj.get("documentComment"),
            "documentId": obj.get("documentId"),
            "documentType": obj.get("documentType"),
            "incoming": obj.get("incoming"),
            "type": obj.get("type"),
            "date": obj.get("date"),
            "operationalDate": obj.get("operationalDate"),
            "cost": obj.get("cost"),
            "secondEstimatedPurchasePrice": obj.get("secondEstimatedPurchasePrice"),
            "firstEstimatedPurchasePrice": obj.get("firstEstimatedPurchasePrice"),
            "documentSum": obj.get("documentSum"),
            "secondaryAmount": obj.get("secondaryAmount"),
            "amount": obj.get("amount"),
            "sumWithoutNds": obj.get("sumWithoutNds"),
            "sumNds": obj.get("sumNds"),
            "sum": obj.get("sum")
        })
        return _obj



    @classmethod
    def from_xml(cls, xml_str: str) -> Optional[Self]:
        """Create an instance of StoreReportItemDtoXml from an XML string"""
        try:
            if isinstance(xml_str, str):
                xml_str = xml_str.encode('utf-8')
            root = etree.fromstring(xml_str)
            return cls.from_xml_element(root)
        except Exception as e:
            raise ValueError(f"Failed to parse XML: {e}")

    @classmethod
    def from_xml_element(cls, element: Element) -> Optional[Self]:
        """Create an instance of StoreReportItemDtoXml from an XML element"""
        return cls._from_xml_element_internal(element)

    @classmethod
    def _from_xml_element_internal(cls, element: Element) -> Optional[Self]:
        """Internal method to create instance from XML element"""
        if element is None:
            return None

        data = {}
        
        # Process field: nds_percent (XML name: ndsPercent)
        # Handle XML element: nds_percent
        # Single element field: nds_percent
        child_element = element.find("ndsPercent")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["ndsPercent"] = float(text_value)
                except ValueError:
                    data["ndsPercent"] = text_value
                
        
        # Process field: product_category (XML name: productCategory)
        # Handle XML element: product_category
        # Single element field: product_category
        child_element = element.find("productCategory")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["productCategory"] = text_value
                
        
        # Process field: product_group (XML name: productGroup)
        # Handle XML element: product_group
        # Single element field: product_group
        child_element = element.find("productGroup")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["productGroup"] = text_value
                
        
        # Process field: product (XML name: product)
        # Handle XML element: product
        # Single element field: product
        child_element = element.find("product")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["product"] = text_value
                
        
        # Process field: secondary_account (XML name: secondaryAccount)
        # Handle XML element: secondary_account
        # Single element field: secondary_account
        child_element = element.find("secondaryAccount")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["secondaryAccount"] = text_value
                
        
        # Process field: primary_store (XML name: primaryStore)
        # Handle XML element: primary_store
        # Single element field: primary_store
        child_element = element.find("primaryStore")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["primaryStore"] = text_value
                
        
        # Process field: document_num (XML name: documentNum)
        # Handle XML element: document_num
        # Single element field: document_num
        child_element = element.find("documentNum")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["documentNum"] = text_value
                
        
        # Process field: expense_account (XML name: expenseAccount)
        # Handle XML element: expense_account
        # Single element field: expense_account
        child_element = element.find("expenseAccount")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["expenseAccount"] = text_value
                
        
        # Process field: revenue_account (XML name: revenueAccount)
        # Handle XML element: revenue_account
        # Single element field: revenue_account
        child_element = element.find("revenueAccount")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["revenueAccount"] = text_value
                
        
        # Process field: document_comment (XML name: documentComment)
        # Handle XML element: document_comment
        # Single element field: document_comment
        child_element = element.find("documentComment")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["documentComment"] = text_value
                
        
        # Process field: document_id (XML name: documentId)
        # Handle XML element: document_id
        # Single element field: document_id
        child_element = element.find("documentId")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["documentId"] = text_value
                
        
        # Process field: document_type (XML name: documentType)
        # Handle XML element: document_type
        # Single element field: document_type
        child_element = element.find("documentType")
        if child_element is not None:
            # Enum field
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["documentType"] = text_value
        
        # Process field: incoming (XML name: incoming)
        # Handle XML element: incoming
        # Single element field: incoming
        child_element = element.find("incoming")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["incoming"] = text_value.lower() == 'true'
                
        
        # Process field: type (XML name: type)
        # Handle XML element: type
        # Single element field: type
        child_element = element.find("type")
        if child_element is not None:
            # Enum field
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["type"] = text_value
        
        # Process field: var_date (XML name: date)
        # Handle XML element: var_date
        # Single element field: var_date
        child_element = element.find("date")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["date"] = text_value
                
        
        # Process field: operational_date (XML name: operationalDate)
        # Handle XML element: operational_date
        # Single element field: operational_date
        child_element = element.find("operationalDate")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                data["operationalDate"] = text_value
                
        
        # Process field: cost (XML name: cost)
        # Handle XML element: cost
        # Single element field: cost
        child_element = element.find("cost")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["cost"] = float(text_value)
                except ValueError:
                    data["cost"] = text_value
                
        
        # Process field: second_estimated_purchase_price (XML name: secondEstimatedPurchasePrice)
        # Handle XML element: second_estimated_purchase_price
        # Single element field: second_estimated_purchase_price
        child_element = element.find("secondEstimatedPurchasePrice")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["secondEstimatedPurchasePrice"] = float(text_value)
                except ValueError:
                    data["secondEstimatedPurchasePrice"] = text_value
                
        
        # Process field: first_estimated_purchase_price (XML name: firstEstimatedPurchasePrice)
        # Handle XML element: first_estimated_purchase_price
        # Single element field: first_estimated_purchase_price
        child_element = element.find("firstEstimatedPurchasePrice")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["firstEstimatedPurchasePrice"] = float(text_value)
                except ValueError:
                    data["firstEstimatedPurchasePrice"] = text_value
                
        
        # Process field: document_sum (XML name: documentSum)
        # Handle XML element: document_sum
        # Single element field: document_sum
        child_element = element.find("documentSum")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["documentSum"] = float(text_value)
                except ValueError:
                    data["documentSum"] = text_value
                
        
        # Process field: secondary_amount (XML name: secondaryAmount)
        # Handle XML element: secondary_amount
        # Single element field: secondary_amount
        child_element = element.find("secondaryAmount")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["secondaryAmount"] = float(text_value)
                except ValueError:
                    data["secondaryAmount"] = text_value
                
        
        # Process field: amount (XML name: amount)
        # Handle XML element: amount
        # Single element field: amount
        child_element = element.find("amount")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["amount"] = float(text_value)
                except ValueError:
                    data["amount"] = text_value
                
        
        # Process field: sum_without_nds (XML name: sumWithoutNds)
        # Handle XML element: sum_without_nds
        # Single element field: sum_without_nds
        child_element = element.find("sumWithoutNds")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["sumWithoutNds"] = float(text_value)
                except ValueError:
                    data["sumWithoutNds"] = text_value
                
        
        # Process field: sum_nds (XML name: sumNds)
        # Handle XML element: sum_nds
        # Single element field: sum_nds
        child_element = element.find("sumNds")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["sumNds"] = float(text_value)
                except ValueError:
                    data["sumNds"] = text_value
                
        
        # Process field: sum (XML name: sum)
        # Handle XML element: sum
        # Single element field: sum
        child_element = element.find("sum")
        if child_element is not None:
            # Check for null or empty values
            text_value = child_element.text
            if text_value is not None and text_value.strip() != "" and text_value != "null":
                try:
                    data["sum"] = float(text_value)
                except ValueError:
                    data["sum"] = text_value
                
        
        
        return cls.from_dict(data)

    def to_xml(self) -> str:
        """Create an XML string representation of the model"""
        root_element = Element(self.__xml_config.get("root_name", self.__class__.__name__))
        
        # Populate the XML element with model data
        self._to_xml_element_internal(root_element)
        
        # Convert to string with XML declaration
        return etree.tostring(root_element, encoding="utf-8", pretty_print=True, xml_declaration=True).decode("utf-8")

    def _to_xml_element_internal(self, element: Element) -> None:
        """Internal method to populate an XML element with model data"""
        
        # Process field: nds_percent (XML name: ndsPercent)
        value = getattr(self, "nds_percent", None)
        if value is not None:  # Skip None values
            # Single element field: nds_percent
            child_element = SubElement(element, "ndsPercent")
            child_element.text = str(value)
            
        # Process field: product_category (XML name: productCategory)
        value = getattr(self, "product_category", None)
        if value is not None:  # Skip None values
            # Single element field: product_category
            child_element = SubElement(element, "productCategory")
            child_element.text = value
            
        # Process field: product_group (XML name: productGroup)
        value = getattr(self, "product_group", None)
        if value is not None:  # Skip None values
            # Single element field: product_group
            child_element = SubElement(element, "productGroup")
            child_element.text = value
            
        # Process field: product (XML name: product)
        value = getattr(self, "product", None)
        if value is not None:  # Skip None values
            # Single element field: product
            child_element = SubElement(element, "product")
            child_element.text = value
            
        # Process field: secondary_account (XML name: secondaryAccount)
        value = getattr(self, "secondary_account", None)
        if value is not None:  # Skip None values
            # Single element field: secondary_account
            child_element = SubElement(element, "secondaryAccount")
            child_element.text = value
            
        # Process field: primary_store (XML name: primaryStore)
        value = getattr(self, "primary_store", None)
        if value is not None:  # Skip None values
            # Single element field: primary_store
            child_element = SubElement(element, "primaryStore")
            child_element.text = value
            
        # Process field: document_num (XML name: documentNum)
        value = getattr(self, "document_num", None)
        if value is not None:  # Skip None values
            # Single element field: document_num
            child_element = SubElement(element, "documentNum")
            child_element.text = value
            
        # Process field: expense_account (XML name: expenseAccount)
        value = getattr(self, "expense_account", None)
        if value is not None:  # Skip None values
            # Single element field: expense_account
            child_element = SubElement(element, "expenseAccount")
            child_element.text = value
            
        # Process field: revenue_account (XML name: revenueAccount)
        value = getattr(self, "revenue_account", None)
        if value is not None:  # Skip None values
            # Single element field: revenue_account
            child_element = SubElement(element, "revenueAccount")
            child_element.text = value
            
        # Process field: document_comment (XML name: documentComment)
        value = getattr(self, "document_comment", None)
        if value is not None:  # Skip None values
            # Single element field: document_comment
            child_element = SubElement(element, "documentComment")
            child_element.text = value
            
        # Process field: document_id (XML name: documentId)
        value = getattr(self, "document_id", None)
        if value is not None:  # Skip None values
            # Single element field: document_id
            child_element = SubElement(element, "documentId")
            child_element.text = value
            
        # Process field: document_type (XML name: documentType)
        value = getattr(self, "document_type", None)
        if value is not None:  # Skip None values
            # Single element field: document_type
            child_element = SubElement(element, "documentType")
            # Enum field
            child_element.text = str(value)
        # Process field: incoming (XML name: incoming)
        value = getattr(self, "incoming", None)
        if value is not None:  # Skip None values
            # Single element field: incoming
            child_element = SubElement(element, "incoming")
            child_element.text = str(value).lower()
            
        # Process field: type (XML name: type)
        value = getattr(self, "type", None)
        if value is not None:  # Skip None values
            # Single element field: type
            child_element = SubElement(element, "type")
            # Enum field
            child_element.text = str(value)
        # Process field: var_date (XML name: date)
        value = getattr(self, "var_date", None)
        if value is not None:  # Skip None values
            # Single element field: var_date
            child_element = SubElement(element, "date")
            child_element.text = value
            
        # Process field: operational_date (XML name: operationalDate)
        value = getattr(self, "operational_date", None)
        if value is not None:  # Skip None values
            # Single element field: operational_date
            child_element = SubElement(element, "operationalDate")
            child_element.text = value
            
        # Process field: cost (XML name: cost)
        value = getattr(self, "cost", None)
        if value is not None:  # Skip None values
            # Single element field: cost
            child_element = SubElement(element, "cost")
            child_element.text = str(value)
            
        # Process field: second_estimated_purchase_price (XML name: secondEstimatedPurchasePrice)
        value = getattr(self, "second_estimated_purchase_price", None)
        if value is not None:  # Skip None values
            # Single element field: second_estimated_purchase_price
            child_element = SubElement(element, "secondEstimatedPurchasePrice")
            child_element.text = str(value)
            
        # Process field: first_estimated_purchase_price (XML name: firstEstimatedPurchasePrice)
        value = getattr(self, "first_estimated_purchase_price", None)
        if value is not None:  # Skip None values
            # Single element field: first_estimated_purchase_price
            child_element = SubElement(element, "firstEstimatedPurchasePrice")
            child_element.text = str(value)
            
        # Process field: document_sum (XML name: documentSum)
        value = getattr(self, "document_sum", None)
        if value is not None:  # Skip None values
            # Single element field: document_sum
            child_element = SubElement(element, "documentSum")
            child_element.text = str(value)
            
        # Process field: secondary_amount (XML name: secondaryAmount)
        value = getattr(self, "secondary_amount", None)
        if value is not None:  # Skip None values
            # Single element field: secondary_amount
            child_element = SubElement(element, "secondaryAmount")
            child_element.text = str(value)
            
        # Process field: amount (XML name: amount)
        value = getattr(self, "amount", None)
        if value is not None:  # Skip None values
            # Single element field: amount
            child_element = SubElement(element, "amount")
            child_element.text = str(value)
            
        # Process field: sum_without_nds (XML name: sumWithoutNds)
        value = getattr(self, "sum_without_nds", None)
        if value is not None:  # Skip None values
            # Single element field: sum_without_nds
            child_element = SubElement(element, "sumWithoutNds")
            child_element.text = str(value)
            
        # Process field: sum_nds (XML name: sumNds)
        value = getattr(self, "sum_nds", None)
        if value is not None:  # Skip None values
            # Single element field: sum_nds
            child_element = SubElement(element, "sumNds")
            child_element.text = str(value)
            
        # Process field: sum (XML name: sum)
        value = getattr(self, "sum", None)
        if value is not None:  # Skip None values
            # Single element field: sum
            child_element = SubElement(element, "sum")
            child_element.text = str(value)
            


